<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.mycompany.webapp.dao.ISurveyRepository">

	<insert id="setQuestInsert" parameterType="com.mycompany.webapp.dto.SurveyQuestionDTO">
		<![CDATA[
				INSERT INTO SURVEY_QUESTION(QUESTION_ID, SURVEY_ID, QUESTION_CONTENT, QUESTION_TYPE_CODE)
				values (#{questionId}, #{surveyId}, #{questionContent}, #{questionTypeCode})
		]]>
	</insert>
	
	<select id="selectMaxQuestionId" resultType="int">
	
	<![CDATA[
				SELECT NVL(MAX(QUESTION_ID), 0) AS "questionId" FROM SURVEY_QUESTION
		]]>
	</select>
	
	<select id="selectMaxItemId"  resultType="int">
		<![CDATA[
				SELECT NVL(MAX(ITEM_ID), 0) AS "itemId" FROM SURVEY_ITEM
		]]>
	</select>
	
	<insert id="setItemInsert" parameterType="com.mycompany.webapp.dto.SurveyQuestionDTO">
		<![CDATA[	
			INSERT INTO SURVEY_ITEM(QUESTION_ID, ITEM_ID, ITEM_CONTENT, ITEM_SCORE)
			values (#{questionId}, #{itemId}, #{itemContent}, #{itemScore})
		]]>
	</insert>
	
	
</mapper>